(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{176:function(e,t,r){},177:function(e,t,r){},182:function(e,t,r){},183:function(e,t,r){},184:function(e,t,r){},283:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r(1),a=r(35),s=r.n(a),i=r(13),d=r(10),o=r(38),u=r(148),l="FETCH_PRODUCT_LIST_REQUEST",j="FETCH_PRODUCT_LIST_SUCCEEDED",b="FETCH_TOP_PRODUCT_LIST_REQUEST",h="FETCH_TOP_PRODUCT_LIST_SUCCEEDED",O="FETCH_PRODUCT_DETAIL_REQUEST",p="FETCH_PRODUCT_DETAIL_SUCCEEDED",x="CREATE_PRODUCT_REVIEW",m="GET_ERROR_CREATE_PRODUCT_REVIEW",f="CLEAR_ERROR_CREATE_PRODUCT_REVIEW",v="FETCH_CART_LIST_REQUEST",g="FETCH_CART_LIST_SUCCEEDED",E="ADD_CART_ITEM_REQUEST",I="ADD_CART_ITEM_SUCCEEDED",y="REMOVE_CART_ITEM_REQUEST",C="REMOVE_CART_ITEM_SUCCEEDED",R="SAVING_SHIPPING_ADDRESS",S="SAVING_PAYMENT_METHOD",k="SET_PAYMENT_PRICE",D="SIGN_IN_REQUEST",w="SIGN_IN_SUCCEEDED",P="SIGN_UP_REQUEST",L="SIGN_UP_SUCCEEDED",_="SIGN_OUT_REQUEST",U="SIGN_OUT_SUCCEEDED",T="GET_USER_DATA_REQUEST",A="GET_USER_DATA_SUCCEEDED",F="UPDATE_USER_DATA_REQUEST",N="UPDATE_USER_DATA_SUCCEEDED",q="CHECK_AUTHENTICATION_REQUEST",G="CHECK_AUTHENTICATION_SUCCEEDED",M="CHECK_AUTHENTICATION_FAILED",V="GET_ORDER_DETAIL_REQUEST",H="GET_ORDER_DETAIL_SUCCEEDED",Q="GET_ORDER_USER_REQUEST",$="GET_ORDER_USER_SUCCEEDED",B="ADD_ORDER_ITEM_REQUEST",Y="ADD_ORDER_ITEM_SUCCEEDED",z="ADD_ORDER_ITEM_FAILED",W="ORDER_PAY_REQUEST",J="ORDER_PAY_SUCCEEDED",K="ORDER_PAY_FAILED",X="ORDER_PAY_RESET",Z="FETCH_USER_LIST_REQUEST",ee="FETCH_USER_LIST_SUCCEEDED",te="GET_USER_DETAIL_REQUEST",re="GET_USER_DETAIL_SUCCEEDED",ce="CREATE_PRODUCT_ITEM_REQUEST",ne="CREATE_PRODUCT_ITEM_SUCCEEDED",ae="UPDATE_PRODUCT_ITEM_REQUEST",se="UPDATE_PRODUCT_ITEM_SUCCEEDED",ie="DELETE_PRODUCT_REQUEST",de="DELETE_PRODUCT_SUCCEEDED",oe="UPDATE_USER_REQUEST",ue="UPDATE_USER_SUCCEEDED",le="DELETE_USER_REQUEST",je="DELETE_USER_SUCCEEDED",be="FETCH_ORDER_LIST_REQUEST",he="FETCH_ORDER_LIST_SUCCEEDED",Oe="ORDER_DELIVER_REQUEST",pe="ORDER_DELIVER_SUCCEEDED",xe="ORDER_DELIVER_FAILED",me="ORDER_DELIVER_RESET",fe="LOADING_UI",ve="LOADED_UI",ge="GET_ERROR",Ee="CLEAR_ERROR",Ie="UPDATE_STATUS_ON",ye="UPDATE_STATUS_OFF",Ce=r(33),Re={productList:[],topProductList:[],productDetail:{},createReviewSuccess:!1,createReviewError:"",pages:0,page:0},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;return Object(Ce.a)(e,(function(e){switch(t.type){case j:e.productList=t.productList,e.pages=t.pages,e.page=t.page;break;case h:e.topProductList=t.topProductList;break;case p:e.productDetail=t.productDetail;break;case ne:e.productList.push(t.productForm);break;case se:e.productList=e.productList.map((function(e){return e._id===t.productForm._id?t.productForm:e}));break;case de:e.productList=e.productList.filter((function(e){return e._id!==t.productId}));break;case m:e.createReviewError=t.createProductReviewError;break;case f:e.createReviewError=""}}))},ke={userData:{},token:"",checkAuthentication:void 0,userList:[]},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;return Object(Ce.a)(e,(function(e){switch(t.type){case w:case L:case A:case N:e.userData=t.userData,e.token=t.userData.token,e.checkAuthentication=!0;break;case U:e.userData={},e.token="",e.checkAuthentication=!1;break;case G:e.checkAuthentication=!0;break;case M:e.checkAuthentication=!1;break;case ee:e.userList=t.userList;break;case je:e.userList=e.userList.filter((function(e){return e._id!==t.userId}))}}))},we={loading:!1,error:"",updateStatus:!1},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;return Object(Ce.a)(e,(function(e){switch(t.type){case fe:e.loading=!0;break;case ve:e.loading=!1;break;case ge:e.error=t.error;break;case Ee:e.error="";break;case Ie:e.updateStatus=!0;break;case ye:e.updateStatus=!1}}))},Le=r(12),_e=new function e(){Object(Le.a)(this,e),this.getFromLocal=function(e){return JSON.parse(localStorage.getItem(e)||"null")},this.saveToLocal=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},this.removeFromLocal=function(e){return localStorage.removeItem(e)}},Ue={cartList:[],shippingAddress:_e.getFromLocal("shippingAddress")||null,paymentMethod:_e.getFromLocal("paymentMethod")||null,itemsPrice:0,shippingPrice:0,taxPrice:0,totalPrice:0},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;return Object(Ce.a)(e,(function(e){switch(t.type){case g:e.cartList=t.cartList;break;case I:var r=t.cartItem;-1!==e.cartList.findIndex((function(e){return e._id===r._id}))?e.cartList=e.cartList.map((function(e){return e._id===r._id?r:e})):e.cartList.push(r);break;case C:e.cartList=e.cartList.filter((function(e){return e._id!==t.cartId}));break;case R:e.shippingAddress=t.shippingAddress,_e.saveToLocal("shippingAddress",t.shippingAddress);break;case S:e.paymentMethod=t.paymentMethod,_e.saveToLocal("paymentMethod",t.paymentMethod);break;case k:e.itemsPrice=t.itemsPrice,e.shippingPrice=t.shippingPrice,e.taxPrice=t.taxPrice,e.totalPrice=t.totalPrice;break;case U:e.cartList=[],e.paymentMethod="",e.shippingAddress={},e.itemsPrice=0,e.shippingPrice=0,e.taxPrice=0,e.totalPrice=0}}))},Ae={orderInfo:{},orderCreatedSuccess:!1,orderPaySuccess:!1,orderUser:[]},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;return Object(Ce.a)(e,(function(e){switch(t.type){case H:e.orderInfo=t.orderInfo;break;case Y:e.orderInfo=t.orderInfo,e.orderCreatedSuccess=!0;break;case z:e.orderCreatedSuccess=!0;break;case J:e.orderPaySuccess=!0;break;case K:e.orderPaySuccess=!1;break;case X:e.orderInfo=null,e.orderCreatedSuccess=!1,e.orderPaySuccess=!1;break;case $:e.orderUser=t.orderUser;break;case U:e.orderInfo=null,e.orderCreatedSuccess=!1,e.orderPaySuccess=!1,e.orderUser=[]}}))},Ne={userList:[],userDetail:{},orderList:[],orderDeliverSuccess:!1},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;return Object(Ce.a)(e,(function(e){switch(t.type){case ee:e.userList=t.userList;break;case re:e.userDetail=t.userDetail;break;case ue:e.userList=e.userList.map((function(e){return e._id===t.userDetail._id?t.userDetail:e})),e.userDetail={};break;case je:e.userList=e.userList.filter((function(e){return e._id!==t.userId}));break;case he:e.orderList=t.orderList;break;case pe:e.orderDeliverSuccess=!0;break;case xe:case me:e.orderDeliverSuccess=!1}}))},Ge=Object(o.c)({adminReducer:qe,productsReducer:Se,authsReducer:De,utilsReducer:Pe,cartsReducer:Te,ordersReducer:Fe}),Me=r(8),Ve=r.n(Me),He=r(3),Qe=new function e(){Object(Le.a)(this,e),this.loadingUI=function(){return{type:fe}},this.loadedUI=function(){return{type:ve}},this.getError=function(e){return{type:ge,error:e}},this.clearError=function(){return{type:Ee}},this.updateStatusOn=function(){return{type:Ie}},this.updateStatusOff=function(){return{type:ye}}},$e=Ve.a.mark(Be);function Be(e){var t;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.error,console.log(t),r.next=4,Object(He.d)(Qe.loadedUI());case 4:return r.next=6,Object(He.d)(Qe.getError(t.response&&t.response.data.msg?t.response.data.msg:t.msg));case 6:case"end":return r.stop()}}),$e)}var Ye=r(32),ze=r(36),We=r.n(ze),Je=new function e(){Object(Le.a)(this,e),this.axios=void 0,this.get=function(e,t){return We.a.get(e,t)},this.post=function(e,t){return We.a.post(e,t)},this.put=function(e,t){return We.a.put(e,t)},this.delete=function(e,t){return We.a.delete(e,t)},this.attachTokenToHeader=function(e){var t=e.token;return We.a.defaults.headers.Authorization="Bearer ".concat(t)},this.removeTokenToHeader=function(){return We.a.defaults.headers.Authorization=""},this.uploadImage=function(e){return We.a.post("/api/admin/upload-image",e,{headers:{"Content-Type":"multipart/form-data"}})},this.axios=We.a,this.axios.defaults.baseURL="http://localhost:8080",this.axios.defaults.headers={"Access-Control-Allow-Origin":"*","Content-type":"application/json"}},Ke=new function e(){Object(Le.a)(this,e),this.fetchProductList=function(e){var t=e.keyword,r=e.pageNumber;return Je.get("/api/products?keyword=".concat(t,"&pageNumber=").concat(r))},this.fetchTopProductList=function(){return Je.get("/api/products/top")},this.fetchProductDetail=function(e){var t=e.productId;return Je.get("/api/products/".concat(t))},this.createProductReview=function(e){var t=e.productId,r=e.productReview;return Je.post("/api/products/".concat(t,"/review"),Object(Ye.a)({},r))}},Xe=new function e(){Object(Le.a)(this,e),this.fetchProductListRequest=function(e,t){return{type:l,keyword:e,pageNumber:t}},this.fetchProductListSucceeded=function(e,t,r){return{type:j,productList:e,pages:t,page:r}},this.fetchTopProductListRequest=function(){return{type:b}},this.fetchTopProductListSucceeded=function(e){return{type:h,topProductList:e}},this.fetchProductDetailRequest=function(e){return{type:O,productId:e}},this.fetchProductDetailSucceeded=function(e){return{type:p,productDetail:e}},this.createReviewProduct=function(e,t){return{type:x,productId:e,productReview:t}},this.getErrorCreateProductReview=function(e){return{type:m,createProductReviewError:e}},this.clearErrorCreateProductReview=function(){return{type:f}}},Ze=Ve.a.mark(nt),et=Ve.a.mark(at),tt=Ve.a.mark(st),rt=Ve.a.mark(it),ct=Ve.a.mark(dt);function nt(e){var t,r,c,n,a,s,i,d,o;return Ve.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.keyword,r=void 0===t?"":t,c=e.pageNumber,n=void 0===c?1:c,u.prev=1,u.next=4,Object(He.b)(Ke.fetchProductList,{keyword:r,pageNumber:n});case 4:return a=u.sent,s=a.data,i=s.productList,d=s.pages,o=s.page,u.next=11,Object(He.d)(Xe.fetchProductListSucceeded(i,d,o));case 11:return u.next=13,Object(He.d)(Qe.loadedUI());case 13:return u.next=15,Object(He.d)(Qe.clearError());case 15:u.next=21;break;case 17:return u.prev=17,u.t0=u.catch(1),u.next=21,Object(He.b)(Be,{error:u.t0});case 21:case"end":return u.stop()}}),Ze,null,[[1,17]])}function at(){var e,t;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(He.b)(Ke.fetchTopProductList);case 3:return e=r.sent,t=e.data,r.next=7,Object(He.d)(Xe.fetchTopProductListSucceeded(t));case 7:return r.next=9,Object(He.d)(Qe.loadedUI());case 9:return r.next=11,Object(He.d)(Qe.clearError());case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,Object(He.b)(Be,{error:r.t0});case 17:case"end":return r.stop()}}),et,null,[[0,13]])}function st(e){var t,r,c;return Ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.productId,n.prev=1,n.next=4,Object(He.b)(Ke.fetchProductDetail,{productId:t});case 4:return r=n.sent,c=r.data,n.next=8,Object(He.d)(Xe.fetchProductDetailSucceeded(c));case 8:return n.next=10,Object(He.d)(Qe.loadedUI());case 10:return n.next=12,Object(He.d)(Qe.clearError());case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(1),n.next=18,Object(He.b)(Be,{error:n.t0});case 18:case"end":return n.stop()}}),tt,null,[[1,14]])}function it(e){var t,r,c,n;return Ve.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.productId,r=e.productReview,a.prev=1,a.next=4,Object(He.b)(Ke.createProductReview,{productId:t,productReview:r});case 4:return a.next=6,alert("Review Submitted!");case 6:return a.next=8,Object(He.d)(Qe.loadingUI());case 8:return a.next=10,Object(He.e)((function(e){return e}));case 10:return c=a.sent,n=c.productsReducer.productDetail,a.next=14,Object(He.d)(Xe.fetchProductDetailRequest(n._id));case 14:return a.next=16,Object(He.d)(Xe.clearErrorCreateProductReview());case 16:a.next=25;break;case 18:return a.prev=18,a.t0=a.catch(1),console.log(a.t0),a.next=23,Object(He.d)(Qe.loadedUI());case 23:return a.next=25,Object(He.d)(Xe.getErrorCreateProductReview(a.t0.response&&a.t0.response.data.msg?a.t0.response.data.msg:a.t0.msg));case 25:case"end":return a.stop()}}),rt,null,[[1,18]])}function dt(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.f)(l,nt);case 2:return e.next=4,Object(He.f)(b,at);case 4:return e.next=6,Object(He.f)(O,st);case 6:return e.next=8,Object(He.f)(x,it);case 8:case"end":return e.stop()}}),ct)}var ot=new function e(){Object(Le.a)(this,e),this.getUserData=function(){return Je.get("/api/users/profile")},this.signIn=function(e){var t=e.email,r=e.password;return Je.post("/api/users/login",{email:t,password:r})},this.signUp=function(e){var t=e.name,r=e.email,c=e.password;return Je.post("/api/users/signup",{name:t,email:r,password:c})},this.updateUserData=function(e){var t=e.userForm;return Je.put("/api/users/profile-update",Object(Ye.a)({},t))}},ut=new function e(){Object(Le.a)(this,e),this.signInRequest=function(e,t){return{type:D,email:e,password:t}},this.signInSucceeded=function(e){return{type:w,userData:e}},this.signUpRequest=function(e,t,r){return{type:P,name:e,email:t,password:r}},this.signUpSucceeded=function(e){return{type:L,userData:e}},this.signOutRequest=function(){return{type:_}},this.signOutSucceeded=function(){return{type:U}},this.getUserDataRequest=function(){return{type:T}},this.getUserDataSucceeded=function(e){return{type:A,userData:e}},this.updateUserDataRequest=function(e){return{type:F,userForm:e}},this.updateUserDataSucceeded=function(e){return{type:N,userData:e}},this.checkAuthenticationRequest=function(){return{type:q}},this.checkAuthenticationSucceeded=function(){return{type:G}},this.checkAuthenticationFailed=function(){return{type:M}}},lt=r(134),jt=Ve.a.mark(ft),bt=Ve.a.mark(vt),ht=Ve.a.mark(gt),Ot=Ve.a.mark(Et),pt=Ve.a.mark(It),xt=Ve.a.mark(yt),mt=Ve.a.mark(Ct);function ft(){var e,t,r,c,n;return Ve.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_e.getFromLocal("token");case 3:return e=a.sent,a.next=6,Object(He.b)(Je.attachTokenToHeader,{token:e});case 6:return a.next=8,Object(He.e)((function(e){return e}));case 8:if(t=a.sent,r=t.authsReducer.userData,c={},r&&0!==Object.keys(r).length){a.next=17;break}return a.next=14,Object(He.b)(ot.getUserData);case 14:c=a.sent,a.next=18;break;case 17:c=r;case 18:return a.next=20,Object(He.d)(ut.getUserDataSucceeded(c.data||c));case 20:a.next=26;break;case 22:return a.prev=22,a.t0=a.catch(0),console.log(a.t0),a.abrupt("return",null===a.t0||void 0===a.t0||null===(n=a.t0.response)||void 0===n?void 0:n.status);case 26:case"end":return a.stop()}}),jt,null,[[0,22]])}function vt(e){var t,r,c,n;return Ve.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.userForm,a.prev=1,a.next=4,_e.getFromLocal("token");case 4:return r=a.sent,a.next=7,Object(He.b)(Je.attachTokenToHeader,{token:r});case 7:return a.next=9,Object(He.b)(ot.updateUserData,{userForm:t});case 9:return c=a.sent,n=c.data,a.next=13,Object(He.d)(ut.updateUserDataSucceeded(n));case 13:return a.next=15,Object(He.d)(Qe.loadedUI());case 15:return a.next=17,Object(He.d)(Qe.updateStatusOn());case 17:a.next=25;break;case 19:return a.prev=19,a.t0=a.catch(1),a.next=23,Object(He.b)(Be,{error:a.t0});case 23:return a.next=25,Object(He.d)(Qe.updateStatusOff());case 25:case"end":return a.stop()}}),bt,null,[[1,19]])}function gt(e){var t,r,c,n;return Ve.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.email,r=e.password,a.prev=1,a.next=4,Object(He.b)(ot.signIn,{email:t,password:r});case 4:return c=a.sent,n=c.data,a.next=8,Object(He.d)(ut.signInSucceeded(n));case 8:return a.next=10,_e.saveToLocal("userData",n);case 10:return a.next=12,_e.saveToLocal("token",n.token);case 12:return a.next=14,Object(He.d)(Qe.loadedUI());case 14:return a.next=16,Object(He.d)(Qe.clearError());case 16:a.next=22;break;case 18:return a.prev=18,a.t0=a.catch(1),a.next=22,Object(He.b)(Be,{error:a.t0});case 22:case"end":return a.stop()}}),ht,null,[[1,18]])}function Et(e){var t,r,c,n,a;return Ve.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.name,r=e.email,c=e.password,s.prev=1,s.prev=2,s.next=5,Object(He.b)(ot.signUp,{name:t,email:r,password:c});case 5:return n=s.sent,a=n.data,s.next=9,Object(He.d)(ut.signUpSucceeded(a));case 9:return s.next=11,_e.saveToLocal("userData",a);case 11:return s.next=13,_e.saveToLocal("token",a.token);case 13:return s.next=15,Object(He.d)(Qe.loadedUI());case 15:return s.next=17,Object(He.d)(Qe.clearError());case 17:s.next=23;break;case 19:return s.prev=19,s.t0=s.catch(2),s.next=23,Object(He.b)(Be,{error:s.t0});case 23:s.next=28;break;case 25:s.prev=25,s.t1=s.catch(1),console.log(s.t1);case 28:case"end":return s.stop()}}),Ot,null,[[1,25],[2,19]])}function It(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e.removeFromLocal("userData");case 3:return e.next=5,_e.removeFromLocal("token");case 5:return e.next=7,Object(He.b)(Je.removeTokenToHeader);case 7:return e.next=9,Object(He.d)(ut.signOutSucceeded());case 9:return e.next=11,Object(He.d)(Qe.clearError());case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),e.next=17,Object(He.b)(Be,{error:e.t0});case 17:case"end":return e.stop()}}),pt,null,[[0,13]])}function yt(){var e;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getFromLocal("token");case 3:return e=t.sent,t.next=6,Object(He.b)(ft);case 6:if(401!==t.sent&&e){t.next=12;break}return t.next=10,Object(He.b)(It);case 10:t.next=22;break;case 12:if(!(1e3*Object(lt.a)(e).exp<(new Date).getTime())){t.next=18;break}return t.next=16,Object(He.b)(It);case 16:t.next=22;break;case 18:return t.next=20,Object(He.d)(ut.checkAuthenticationSucceeded());case 20:return t.next=22,Object(He.d)(Qe.clearError());case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(0),console.log(t.t0);case 27:case"end":return t.stop()}}),xt,null,[[0,24]])}function Ct(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.f)(T,ft);case 2:return e.next=4,Object(He.f)(F,vt);case 4:return e.next=6,Object(He.f)(D,gt);case 6:return e.next=8,Object(He.f)(P,Et);case 8:return e.next=10,Object(He.f)(_,It);case 10:return e.next=12,Object(He.f)(q,yt);case 12:case"end":return e.stop()}}),mt)}var Rt=new function e(){Object(Le.a)(this,e),this.fetchCartList=function(){return Je.get("/api/carts")},this.addCartItem=function(e){var t=e.cartItem;return Je.post("/api/carts",Object(Ye.a)({},t))},this.removeCartItem=function(e){var t=e.cartId;return Je.delete("/api/carts/".concat(t))}},St=new function e(){Object(Le.a)(this,e),this.fetchCartListRequest=function(){return{type:v}},this.fetchCartListSucceeded=function(e){return{type:g,cartList:e}},this.addCartItemRequest=function(e){return{type:E,cartItem:e}},this.addCartItemSucceeded=function(e){return{type:I,cartItem:e}},this.removeCartItemRequest=function(e){return{type:y,cartId:e}},this.removeCartItemSucceeded=function(e){return{type:C,cartId:e}},this.savingShippingAddress=function(e){return{type:R,shippingAddress:e}},this.savingPaymentMethod=function(e){return{type:S,paymentMethod:e}},this.setPaymentPrice=function(e,t,r,c){return{type:k,itemsPrice:e,shippingPrice:t,taxPrice:r,totalPrice:c}}},kt=Ve.a.mark(Lt),Dt=Ve.a.mark(_t),wt=Ve.a.mark(Ut),Pt=Ve.a.mark(Tt);function Lt(){var e,t;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(He.b)(Rt.fetchCartList);case 3:return e=r.sent,t=e.data,r.next=7,Object(He.d)(St.fetchCartListSucceeded(t));case 7:return r.next=9,Object(He.d)(Qe.loadedUI());case 9:return r.next=11,_e.saveToLocal("cartList",t);case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,Object(He.b)(Be,{error:r.t0});case 17:case"end":return r.stop()}}),kt,null,[[0,13]])}function _t(e){var t,r,c;return Ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.cartItem,n.prev=1,n.next=4,Object(He.d)(St.addCartItemSucceeded(t));case 4:return n.next=6,Object(He.b)(Rt.addCartItem,{cartItem:t});case 6:return n.next=8,Object(He.e)((function(e){return e}));case 8:return r=n.sent,c=r.cartsReducer.cartList,n.next=12,_e.saveToLocal("cartList",c);case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(1),n.next=18,Object(He.b)(Be,{error:n.t0});case 18:case"end":return n.stop()}}),Dt,null,[[1,14]])}function Ut(e){var t,r,c;return Ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.cartId,n.prev=1,n.next=4,Object(He.b)(Rt.removeCartItem,{cartId:t});case 4:return n.next=6,Object(He.d)(St.removeCartItemSucceeded(t));case 6:return n.next=8,Object(He.e)((function(e){return e}));case 8:return r=n.sent,c=r.cartsReducer.cartList,n.next=12,_e.saveToLocal("cartList",c);case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(1),n.next=18,Object(He.b)(Be,{error:n.t0});case 18:case"end":return n.stop()}}),wt,null,[[1,14]])}function Tt(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.f)(v,Lt);case 2:return e.next=4,Object(He.f)(E,_t);case 4:return e.next=6,Object(He.f)(y,Ut);case 6:case"end":return e.stop()}}),Pt)}var At=new function e(){Object(Le.a)(this,e),this.getOrderDetailRequest=function(e){return{type:V,orderId:e}},this.getOrderDetailSucceeded=function(e){return{type:H,orderInfo:e}},this.addOrderItemRequest=function(e){return{type:B,orderInfo:e}},this.addOrderItemSucceeded=function(e){return{type:Y,orderInfo:e}},this.addOrderItemFailed=function(){return{type:z}},this.orderPayRequest=function(e,t){return{type:W,orderId:e,paymentResult:t}},this.orderPaySucceeded=function(){return{type:J}},this.orderPayFailed=function(){return{type:K}},this.orderPayRest=function(){return{type:X}},this.getOrderUserRequest=function(){return{type:Q}},this.getOrderUserSucceeded=function(e){return{type:$,orderUser:e}}},Ft=new function e(){Object(Le.a)(this,e),this.getOrderDetail=function(e){var t=e.orderId;return Je.get("/api/orders/".concat(t))},this.getOrderUser=function(){return Je.get("/api/orders/myorders")},this.addOrderItem=function(e){var t=e.orderInfo;return Je.post("/api/orders",Object(Ye.a)({},t))},this.orderPay=function(e){var t=e.orderId,r=e.paymentResult;return Je.put("/api/orders/".concat(t,"/pay"),Object(Ye.a)({},r))}},Nt=Ve.a.mark(Ht),qt=Ve.a.mark(Qt),Gt=Ve.a.mark($t),Mt=Ve.a.mark(Bt),Vt=Ve.a.mark(Yt);function Ht(e){var t,r,c;return Ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.orderId,n.prev=1,n.next=4,Object(He.b)(Ft.getOrderDetail,{orderId:t});case 4:return r=n.sent,c=r.data,n.next=8,Object(He.d)(At.getOrderDetailSucceeded(c));case 8:return n.next=10,Object(He.d)(Qe.loadedUI());case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(1),n.next=16,Object(He.b)(Be,{error:n.t0});case 16:case"end":return n.stop()}}),Nt,null,[[1,12]])}function Qt(){var e,t;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(He.b)(Ft.getOrderUser);case 3:return e=r.sent,t=e.data,r.next=7,Object(He.d)(At.getOrderUserSucceeded(t));case 7:return r.next=9,Object(He.d)(Qe.loadedUI());case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,Object(He.b)(Be,{error:r.t0});case 15:case"end":return r.stop()}}),qt,null,[[0,11]])}function $t(e){var t,r,c;return Ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.orderInfo,n.prev=1,n.next=4,Object(He.b)(Ft.addOrderItem,{orderInfo:t});case 4:return r=n.sent,c=r.data,n.next=8,Object(He.d)(At.addOrderItemSucceeded(c));case 8:return n.next=10,Object(He.d)(Qe.loadedUI());case 10:n.next=18;break;case 12:return n.prev=12,n.t0=n.catch(1),n.next=16,Object(He.b)(Be,{error:n.t0});case 16:return n.next=18,Object(He.d)(At.addOrderItemFailed());case 18:case"end":return n.stop()}}),Gt,null,[[1,12]])}function Bt(e){var t,r,c;return Ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.orderId,r=e.paymentResult,n.prev=1,n.next=4,Object(He.b)(Ft.orderPay,{orderId:t,paymentResult:r});case 4:return c=n.sent,c.data,n.next=8,Object(He.d)(At.orderPaySucceeded());case 8:return n.next=10,Object(He.d)(Qe.loadedUI());case 10:n.next=18;break;case 12:return n.prev=12,n.t0=n.catch(1),n.next=16,Object(He.b)(Be,{error:n.t0});case 16:return n.next=18,Object(He.d)(At.orderPayFailed());case 18:case"end":return n.stop()}}),Mt,null,[[1,12]])}function Yt(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.f)(V,Ht);case 2:return e.next=4,Object(He.f)(Q,Qt);case 4:return e.next=6,Object(He.f)(B,$t);case 6:return e.next=8,Object(He.f)(W,Bt);case 8:case"end":return e.stop()}}),Vt)}var zt=new function e(){Object(Le.a)(this,e),this.fetchUserList=function(){return Je.get("/api/admin/users")},this.getUserDetail=function(e){var t=e.userId;return Je.get("/api/admin/user/".concat(t))},this.fetchOrderList=function(){return Je.get("/api/admin/products")},this.createProductItem=function(e){var t=e.productForm;return Je.post("/api/admin/product",Object(Ye.a)({},t))},this.updateUser=function(e){var t=e.userId,r=e.userForm;return Je.put("/api/admin/user/".concat(t),Object(Ye.a)({},r))},this.updateProduct=function(e){var t=e.productId,r=e.productForm;return Je.put("/api/admin/product/".concat(t),Object(Ye.a)({},r))},this.orderDeliver=function(e){var t=e.orderId;return Je.put("/api/admin/order/".concat(t,"/deliver"))},this.deleteUser=function(e){var t=e.userId;return Je.delete("/api/admin/user/".concat(t))},this.deleteProduct=function(e){var t=e.productId;return Je.delete("/api/admin/product/".concat(t))}},Wt=new function e(){Object(Le.a)(this,e),this.createProductItemRequest=function(e,t){return{type:ce,productForm:e,history:t}},this.createProductItemSucceeded=function(e){return{type:ne,productForm:e}},this.updateProductItemRequest=function(e,t,r){return{type:ae,productId:e,productForm:t,history:r}},this.updateProductItemSucceeded=function(e){return{type:se,productForm:e}},this.deleteProductRequest=function(e){return{type:ie,productId:e}},this.deleteProductSucceeded=function(e){return{type:de,productId:e}},this.fetchUserListRequest=function(){return{type:Z}},this.fetchUserListSucceeded=function(e){return{type:ee,userList:e}},this.getUserDetailRequest=function(e){return{type:te,userId:e}},this.getUserDetailSucceeded=function(e){return{type:re,userDetail:e}},this.updateUserRequest=function(e,t,r){return{type:oe,userId:e,userForm:t,history:r}},this.updateUserSucceeded=function(e){return{type:ue,userDetail:e}},this.deleteUserRequest=function(e){return{type:le,userId:e}},this.deleteUserSucceeded=function(e){return{type:je,userId:e}},this.fetchOrderListRequest=function(){return{type:be}},this.fetchOrderListSucceeded=function(e){return{type:he,orderList:e}},this.orderDeliverRequest=function(e){return{type:Oe,orderId:e}},this.orderDeliverSucceeded=function(){return{type:pe}},this.orderDeliverFailed=function(){return{type:xe}},this.orderDeliverRest=function(){return{type:me}}},Jt=Ve.a.mark(sr),Kt=Ve.a.mark(ir),Xt=Ve.a.mark(dr),Zt=Ve.a.mark(or),er=Ve.a.mark(ur),tr=Ve.a.mark(lr),rr=Ve.a.mark(jr),cr=Ve.a.mark(br),nr=Ve.a.mark(hr),ar=Ve.a.mark(Or);function sr(){var e,t;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(He.b)(zt.fetchUserList);case 3:return e=r.sent,t=e.data,r.next=7,Object(He.d)(Wt.fetchUserListSucceeded(t));case 7:return r.next=9,Object(He.d)(Qe.loadedUI());case 9:return r.next=11,Object(He.d)(Qe.clearError());case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,Object(He.b)(Be,{error:r.t0});case 17:case"end":return r.stop()}}),Jt,null,[[0,13]])}function ir(e){var t,r,c;return Ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.userId,n.prev=1,n.next=4,Object(He.b)(zt.getUserDetail,{userId:t});case 4:return r=n.sent,c=r.data,n.next=8,Object(He.d)(Wt.getUserDetailSucceeded(c));case 8:return n.next=10,Object(He.d)(Qe.loadedUI());case 10:return n.next=12,Object(He.d)(Qe.clearError());case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(1),n.next=18,Object(He.b)(Be,{error:n.t0});case 18:case"end":return n.stop()}}),Kt,null,[[1,14]])}function dr(e){var t,r,c,n,a;return Ve.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.userId,r=e.userForm,c=e.history,s.prev=1,s.next=4,Object(He.b)(zt.updateUser,{userId:t,userForm:r});case 4:return n=s.sent,a=n.data,s.next=8,Object(He.d)(Wt.updateUserSucceeded(a));case 8:return s.next=10,Object(He.d)(Qe.loadedUI());case 10:return s.next=12,Object(He.d)(Qe.clearError());case 12:return s.next=14,c.push("/admin/users");case 14:s.next=20;break;case 16:return s.prev=16,s.t0=s.catch(1),s.next=20,Object(He.b)(Be,{error:s.t0});case 20:case"end":return s.stop()}}),Xt,null,[[1,16]])}function or(e){var t;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.userId,r.prev=1,r.next=4,Object(He.d)(Wt.deleteUserSucceeded(t));case 4:return r.next=6,Object(He.b)(zt.deleteUser,{userId:t});case 6:return r.next=8,Object(He.d)(Qe.clearError());case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,Object(He.b)(Be,{error:r.t0});case 14:case"end":return r.stop()}}),Zt,null,[[1,10]])}function ur(e){var t,r,c,n;return Ve.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.productForm,r=e.history,a.prev=1,a.next=4,Object(He.b)(zt.createProductItem,{productForm:t});case 4:return c=a.sent,n=c.data,a.next=8,Object(He.d)(Wt.createProductItemSucceeded(n));case 8:return a.next=10,Object(He.d)(Qe.clearError());case 10:return a.next=12,r.push("/admin/products");case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(1),a.next=18,Object(He.b)(Be,{error:a.t0});case 18:case"end":return a.stop()}}),er,null,[[1,14]])}function lr(e){var t,r,c,n,a;return Ve.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.productId,r=e.productForm,c=e.history,s.prev=1,s.next=4,Object(He.b)(zt.updateProduct,{productId:t,productForm:r});case 4:return n=s.sent,a=n.data,s.next=8,Object(He.d)(Wt.updateProductItemSucceeded(a));case 8:return s.next=10,Object(He.d)(Qe.loadedUI());case 10:return s.next=12,Object(He.d)(Qe.clearError());case 12:return s.next=14,c.push("/admin/products");case 14:s.next=20;break;case 16:return s.prev=16,s.t0=s.catch(1),s.next=20,Object(He.b)(Be,{error:s.t0});case 20:case"end":return s.stop()}}),tr,null,[[1,16]])}function jr(e){var t;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.productId,r.prev=1,r.next=4,Object(He.d)(Wt.deleteProductSucceeded(t));case 4:return r.next=6,Object(He.b)(zt.deleteProduct,{productId:t});case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(He.b)(Be,{error:r.t0});case 12:case"end":return r.stop()}}),rr,null,[[1,8]])}function br(){var e,t;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(He.b)(zt.fetchOrderList);case 3:return e=r.sent,t=e.data,r.next=7,Object(He.d)(Wt.fetchOrderListSucceeded(t));case 7:return r.next=9,Object(He.d)(Qe.loadedUI());case 9:return r.next=11,Object(He.d)(Qe.clearError());case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,Object(He.b)(Be,{error:r.t0});case 17:case"end":return r.stop()}}),cr,null,[[0,13]])}function hr(e){var t,r;return Ve.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.orderId,c.prev=1,c.next=4,Object(He.b)(zt.orderDeliver,{orderId:t});case 4:return r=c.sent,r.data,c.next=8,Object(He.d)(Wt.orderDeliverSucceeded());case 8:return c.next=10,Object(He.d)(Qe.loadedUI());case 10:c.next=18;break;case 12:return c.prev=12,c.t0=c.catch(1),c.next=16,Object(He.b)(Be,{error:c.t0});case 16:return c.next=18,Object(He.d)(Wt.orderDeliverFailed());case 18:case"end":return c.stop()}}),nr,null,[[1,12]])}function Or(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.f)(Z,sr);case 2:return e.next=4,Object(He.f)(te,ir);case 4:return e.next=6,Object(He.f)(oe,dr);case 6:return e.next=8,Object(He.f)(le,or);case 8:return e.next=10,Object(He.f)(ce,ur);case 10:return e.next=12,Object(He.f)(ae,lr);case 12:return e.next=14,Object(He.f)(ie,jr);case 14:return e.next=16,Object(He.f)(be,br);case 16:return e.next=18,Object(He.f)(Oe,hr);case 18:case"end":return e.stop()}}),ar)}var pr=Ve.a.mark(xr);function xr(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.a)([Object(He.c)(dt),Object(He.c)(Tt),Object(He.c)(Ct),Object(He.c)(Yt),Object(He.c)(Or)]);case 2:case"end":return e.stop()}}),pr)}var mr=Object(u.a)(),fr=(window&&window).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,vr=Object(o.e)(Ge,fr(Object(o.a)(mr)));mr.run(xr);var gr=vr,Er=r(19),Ir=r(288),yr=(r(176),r(177),r(289)),Cr=r(135),Rr=function(){return Object(c.jsx)("footer",{children:Object(c.jsx)(Ir.a,{children:Object(c.jsx)(yr.a,{children:Object(c.jsx)(Cr.a,{className:"text-center py-3",children:"Copyright \xa9 ProShop"})})})})},Sr=r(297),kr=r(290),Dr=r(294),wr=r(17),Pr=r(295),Lr=r(138),_r=r(21),Ur=Object(Er.o)((function(e){var t=e.history;return Object(c.jsx)(_r.a,{initialValues:{keyword:""},onSubmit:function(e,r){e.keyword.trim()?t.push("/search/".concat(e.keyword)):t.push("/")},children:function(e){return Object(c.jsxs)(Pr.a,{onSubmit:e.handleSubmit,inline:!0,children:[Object(c.jsx)(Pr.a.Control,{type:"text",name:"q",onChange:e.handleChange("keyword"),placeholder:"Search Products...",className:"mr-sm-2 ml-sm-5"}),Object(c.jsx)(Lr.a,{type:"submit",variant:"outline-success",className:"p-2",children:"Search"})]})}})})),Tr=function(){var e=Object(d.c)((function(e){return e})),t=e.authsReducer,r=t.checkAuthentication,n=t.userData,a=(e.utilsReducer.loading,Object(d.b)()),s=ut.signOutRequest;return Object(c.jsx)("header",{children:Object(c.jsx)(Sr.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(c.jsxs)(Ir.a,{children:[Object(c.jsx)(wr.LinkContainer,{to:"/",children:Object(c.jsx)(Sr.a.Brand,{children:"ProShop"})}),Object(c.jsx)(Sr.a.Toggle,{"aria-controls":"basic-navbar-nav"}),void 0!==r&&Object(c.jsxs)(Sr.a.Collapse,{id:"basic-navbar-nav",children:[Object(c.jsx)(Ur,{}),Object(c.jsxs)(kr.a,{className:"ml-auto",children:[Object(c.jsx)(wr.LinkContainer,{to:"/cart",children:Object(c.jsxs)(kr.a.Link,{children:[Object(c.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})}),!0===r?Object(c.jsxs)(Dr.a,{title:n.name,id:"username",children:[Object(c.jsx)(wr.LinkContainer,{to:"/profile",children:Object(c.jsx)(Dr.a.Item,{children:"Profile"})}),Object(c.jsx)(Dr.a.Item,{onClick:function(){return a(s())},children:"Logout"})]}):Object(c.jsx)(wr.LinkContainer,{to:"/login",children:Object(c.jsxs)(kr.a.Link,{children:[Object(c.jsx)("i",{className:"fas fa-user"})," Sign In"]})}),!0===r&&n.isAdmin&&Object(c.jsxs)(Dr.a,{title:"Admin",id:"adminmenu",children:[Object(c.jsx)(wr.LinkContainer,{to:"/admin/users",children:Object(c.jsx)(Dr.a.Item,{children:"Users"})}),Object(c.jsx)(wr.LinkContainer,{to:"/admin/products",children:Object(c.jsx)(Dr.a.Item,{children:"Products"})}),Object(c.jsx)(wr.LinkContainer,{to:"/admin/orders",children:Object(c.jsx)(Dr.a.Item,{children:"Orders"})})]})]})]})]})})})},Ar=r(299),Fr=(r(182),r(183),function(e){var t=e.rating,r=e.text,n=e.color,a=void 0===n?"#f8e825":n;return Object(c.jsxs)("div",{className:"rating",children:[Array.from([0,1,2,3,4]).map((function(e){return Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:t>=e+1?"fas fa-star":t>=e+.5?"fas fa-star-half-alt":"far fa-star",style:{color:a}})},e)})),Object(c.jsx)("span",{className:"",children:r&&r})]})}),Nr=function(e){var t=e.productItem,r=t._id,n=t.image,a=t.name,s=t.rating,d=t.numReviews,o=t.price;return Object(c.jsxs)(Ar.a,{className:"my-3 p-3 rounded",children:[Object(c.jsx)(i.Link,{to:"/product/".concat(r),children:Object(c.jsx)(Ar.a.Img,{src:n,variant:"top"})}),Object(c.jsxs)(Ar.a.Body,{children:[Object(c.jsx)(i.Link,{to:"/product/".concat(r),children:Object(c.jsx)(Ar.a.Title,{as:"div",children:Object(c.jsx)("strong",{children:a})})}),Object(c.jsx)(Ar.a.Text,{as:"div",children:Object(c.jsx)(Fr,{rating:s,text:"".concat(d," reviews")})}),Object(c.jsxs)(Ar.a.Text,{as:"h3",children:["$",o]})]})]})},qr=r(24),Gr=r(300),Mr=function(e){var t=e.pages,r=e.page,n=e.isAdmin,a=void 0!==n&&n,s=e.keyword,i=void 0===s?"":s;return Object(c.jsx)(c.Fragment,{children:t>1&&Object(c.jsx)(Gr.a,{children:Object(qr.a)(Array(t).keys()).map((function(e){return Object(c.jsx)(wr.LinkContainer,{to:a?"/admin/products/".concat(e+1):i?"/search/".concat(i,"/page/").concat(e+1):"/page/".concat(e+1),children:Object(c.jsx)(Gr.a.Item,{active:e+1===r,children:e+1})},e+1)}))})})},Vr=Object(Er.o)((function(e){var t=e.match.params.keyword,r=Object(d.c)((function(e){return e})),n=r.productsReducer,a=n.productList,s=n.page,i=n.pages,o=r.authsReducer.userData;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(yr.a,{children:a.map((function(e){return Object(c.jsx)(Cr.a,{sm:12,md:6,lg:4,xl:3,children:Object(c.jsx)(Nr,{productItem:e})},e._id)}))}),Object(c.jsx)(Mr,{pages:i,page:s,keyword:t,isAdmin:o.isAdmin})]})})),Hr=r(291),Qr=function(){return Object(c.jsx)(Hr.a,{animation:"border",role:"status",style:{width:100,height:100,margin:"auto",display:"block"},children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})},$r=r(298),Br=function(e){var t=e.variant,r=void 0===t?"info":t,n=e.children;return Object(c.jsx)($r.a,{variant:r,children:n})},Yr=r(296),zr=r(292),Wr=(r(184),function(){var e=Object(d.c)((function(e){return e})),t=e.productsReducer.topProductList,r=e.utilsReducer,a=r.loading,s=r.error,o=Object(d.b)(),u=Xe.fetchTopProductListRequest,l=Qe.loadingUI;return Object(n.useEffect)((function(){o(l()),o(u())}),[]),Object(c.jsx)(c.Fragment,{children:a?Object(c.jsx)(Qr,{}):s?Object(c.jsx)(Br,{variant:"danger",children:s}):Object(c.jsx)(Yr.a,{pause:"hover",className:"bg-dark",children:t.map((function(e){return Object(c.jsx)(Yr.a.Item,{children:Object(c.jsxs)(i.Link,{to:"/product/".concat(e._id),children:[Object(c.jsx)(zr.a,{src:e.image,alt:e.name,fluid:!0}),Object(c.jsx)(Yr.a.Caption,{className:"caurosel-caption",children:Object(c.jsxs)("h3",{children:[e.name," ($",e.price,")"]})})]})},e._id)}))})})}),Jr=r(141),Kr=function(e){var t=e.title,r=void 0===t?"Welcome To ProShop":t,n=e.description,a=void 0===n?"We sell the best products for cheap":n,s=e.keywords,i=void 0===s?"electronics, buy electronics, cheap electronics":s;return Object(c.jsxs)(Jr.a,{children:[Object(c.jsx)("title",{children:r}),Object(c.jsx)("meta",{name:"description",content:a}),Object(c.jsx)("meta",{name:"keywords",content:i})]})},Xr=function(e){var t=e.match,r=t.params.keyword,a=Number(t.params.pageNumber)||1,s=Object(d.c)((function(e){return e})).utilsReducer,o=s.loading,u=s.error,l=Xe.fetchProductListRequest,j=Qe.loadingUI,b=Object(d.b)();return Object(n.useEffect)((function(){b(j()),b(l(r,a))}),[r,a]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Kr,{}),r?Object(c.jsx)(i.Link,{to:"/",className:"btn btn-light",children:"Go Back"}):Object(c.jsx)(Wr,{}),Object(c.jsx)("h1",{children:"Latest Products"}),o?Object(c.jsx)(Qr,{}):u?Object(c.jsx)(Br,{variant:"danger",children:u}):Object(c.jsx)(Vr,{})]})},Zr=r(31),ec=r(301),tc=function(e){var t=e.match,r=e.history,a=t.params.id,s=Object(n.useState)(1),o=Object(Zr.a)(s,2),u=o[0],l=o[1],j=Object(d.c)((function(e){return e})),b=j.productsReducer,h=b.productDetail,O=h.image,p=h.name,x=h.rating,m=h.numReviews,f=h.price,v=h.description,g=h.countInStock,E=h.reviews,I=b.createReviewError,y=j.utilsReducer,C=y.loading,R=y.error,S=j.authsReducer.userData,k=Xe.fetchProductDetailRequest,D=Xe.createReviewProduct,w=St.addCartItemRequest,P=Qe.loadingUI,L=Object(d.b)(),_=function(){r.push("/cart"),L(w({_id:a,name:p,image:O,price:f,countInStock:g,quantity:u,user:S._id}))};return Object(n.useEffect)((function(){L(P()),L(k(t.params.id))}),[t.params.id]),Object(c.jsx)(_r.a,{initialValues:{rating:0,comment:""},onSubmit:function(e,t){L(P()),L(D(a,{user:S.name,rating:Number(e.rating),comment:e.comment})),t.resetForm()},children:function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(i.Link,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),C?Object(c.jsx)(Qr,{}):R?Object(c.jsx)(Br,{variant:"danger",children:R}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Kr,{title:p}),Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{md:6,children:Object(c.jsx)(zr.a,{src:O,fluid:!0})}),Object(c.jsx)(Cr.a,{md:3,children:Object(c.jsxs)(ec.a,{variant:"flush",children:[Object(c.jsx)(ec.a.Item,{children:Object(c.jsx)("h3",{children:p})}),Object(c.jsx)(ec.a.Item,{children:Object(c.jsx)(Fr,{rating:x,text:"".concat(m," reviews")})}),Object(c.jsxs)(ec.a.Item,{children:["Price: $",f]}),Object(c.jsxs)(ec.a.Item,{children:["Description: ",v]})]})}),Object(c.jsx)(Cr.a,{md:3,children:Object(c.jsx)(Ar.a,{children:Object(c.jsxs)(ec.a,{variant:"flush",children:[Object(c.jsxs)(ec.a.Item,{children:[Object(c.jsx)(Cr.a,{children:"Price:"}),Object(c.jsx)(Cr.a,{children:Object(c.jsxs)("strong",{children:["$",f]})})]}),Object(c.jsxs)(ec.a.Item,{children:[Object(c.jsx)(Cr.a,{children:"Status:"}),Object(c.jsx)(Cr.a,{children:Object(c.jsx)("strong",{children:g>0?"In Stock":"Out Of Stock"})})]}),g>0&&Object(c.jsx)(ec.a.Item,{children:Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{children:"Qty"}),Object(c.jsx)(Cr.a,{children:Object(c.jsx)(Pr.a.Control,{as:"select",value:u,style:{padding:"0.75rem 1.2rem"},onChange:function(e){return l(e.target.value)},children:Object(qr.a)(Array(g).keys()).map((function(e){return Object(c.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(c.jsx)(ec.a.Item,{children:Object(c.jsx)(Lr.a,{className:"btn-block",type:"button",disabled:0===g,onClick:_,children:"Add To Cart"})})]})})})]}),Object(c.jsx)(yr.a,{children:Object(c.jsxs)(Cr.a,{md:6,children:[Object(c.jsx)("h2",{children:"Review"}),0===(null===E||void 0===E?void 0:E.length)&&Object(c.jsx)(Br,{children:"No reviews"}),Object(c.jsxs)(ec.a,{variant:"flush",children:[null===E||void 0===E?void 0:E.map((function(e){return Object(c.jsxs)(ec.a.Item,{children:[Object(c.jsx)("strong",{children:e.name}),Object(c.jsx)(Fr,{rating:e.rating}),Object(c.jsx)("p",{children:String(e.createdAt).substring(0,10)}),Object(c.jsx)("p",{children:e.comment})]},e._id)})),Object(c.jsxs)(ec.a.Item,{children:[Object(c.jsx)("h2",{children:"Write a Customer Review"}),I&&Object(c.jsx)(Br,{variant:"danger",children:I}),S?Object(c.jsxs)(Pr.a,{onSubmit:e.handleSubmit,children:[Object(c.jsxs)(Pr.a.Group,{controlId:"rating",children:[Object(c.jsx)(Pr.a.Label,{children:"Rating"}),Object(c.jsxs)(Pr.a.Control,{as:"select",value:e.values.rating,onChange:e.handleChange("rating"),children:[Object(c.jsx)("option",{value:"",children:"Select..."}),Object(c.jsx)("option",{value:"1",children:"1 - Poor"}),Object(c.jsx)("option",{value:"2",children:"2 - Pair"}),Object(c.jsx)("option",{value:"3",children:"3 - Good"}),Object(c.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(c.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"comment",children:[Object(c.jsx)(Pr.a.Label,{children:"Comment"}),Object(c.jsx)(Pr.a.Control,{as:"textarea",rows:3,value:e.values.comment,onChange:e.handleChange("comment")})]}),Object(c.jsx)(Lr.a,{type:"submit",variant:"primary",children:"Submit"})]}):Object(c.jsxs)(Br,{children:["Please ",Object(c.jsx)(i.Link,{to:"/login",children:"Sign In"})," to write a review"]})]})]})]})})]})]})}})},rc=function(e){var t=e.children;return Object(c.jsx)(Ir.a,{className:"my-4",children:Object(c.jsx)(yr.a,{className:"justify-content-md-center",children:Object(c.jsx)(Cr.a,{xs:12,md:6,children:t})})})},cc=function(e){var t=e.step1,r=e.step2,n=e.step3,a=e.step4;return Object(c.jsxs)(kr.a,{className:"justify-content-center mb-4",children:[Object(c.jsx)(kr.a.Item,{children:t?Object(c.jsx)(wr.LinkContainer,{to:"/login",children:Object(c.jsx)(kr.a.Link,{children:"Sign In"})}):Object(c.jsx)(kr.a.Link,{disabled:!0,children:"Sign In"})}),Object(c.jsx)(kr.a.Item,{children:r?Object(c.jsx)(wr.LinkContainer,{to:"/shipping",children:Object(c.jsx)(kr.a.Link,{children:"Shipping"})}):Object(c.jsx)(kr.a.Link,{disabled:!0,children:"Shipping"})}),Object(c.jsx)(kr.a.Item,{children:n?Object(c.jsx)(wr.LinkContainer,{to:"/payment",children:Object(c.jsx)(kr.a.Link,{children:"Payment"})}):Object(c.jsx)(kr.a.Link,{disabled:!0,children:"Payment"})}),Object(c.jsx)(kr.a.Item,{children:a?Object(c.jsx)(wr.LinkContainer,{to:"/placeorder",children:Object(c.jsx)(kr.a.Link,{children:"Place Order"})}):Object(c.jsx)(kr.a.Link,{disabled:!0,children:"Place Order"})})]})},nc=function(e){var t=e.history,r=Object(d.c)((function(e){return e})),n=r.cartsReducer.shippingAddress,a=r.authsReducer.checkAuthentication,s=Object(d.b)(),i=St.savingShippingAddress;return!1===a?Object(c.jsx)(Er.c,{to:"/login"}):Object(c.jsx)(_r.a,{initialValues:{address:(null===n||void 0===n?void 0:n.address)||"",city:(null===n||void 0===n?void 0:n.city)||"",postalCode:(null===n||void 0===n?void 0:n.postalCode)||"",country:(null===n||void 0===n?void 0:n.country)||""},onSubmit:function(e,r){s(i({address:e.address,city:e.city,country:e.country,postalCode:e.postalCode})),t.push("/payment")},children:function(e){return Object(c.jsxs)(rc,{children:[Object(c.jsx)(cc,{step1:!0,step2:!0}),Object(c.jsx)("h1",{children:"Shipping"}),Object(c.jsxs)(Pr.a,{onSubmit:e.handleSubmit,children:[Object(c.jsxs)(Pr.a.Group,{controlId:"address",children:[Object(c.jsx)(Pr.a.Label,{children:"Address"}),Object(c.jsx)(Pr.a.Control,{type:"text",placeholder:"Enter address",value:e.values.address,required:!0,onChange:e.handleChange("address")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"city",children:[Object(c.jsx)(Pr.a.Label,{children:"City"}),Object(c.jsx)(Pr.a.Control,{type:"text",placeholder:"Enter city",value:e.values.city,required:!0,onChange:e.handleChange("city")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"postalCode",children:[Object(c.jsx)(Pr.a.Label,{children:"Postal Code"}),Object(c.jsx)(Pr.a.Control,{type:"text",placeholder:"Enter Postal Code",value:e.values.postalCode,required:!0,onChange:e.handleChange("postalCode")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"country",children:[Object(c.jsx)(Pr.a.Label,{children:"Country"}),Object(c.jsx)(Pr.a.Control,{type:"text",placeholder:"Enter Country",value:e.values.country,required:!0,onChange:e.handleChange("country")})]}),Object(c.jsx)(Lr.a,{type:"submit",variant:"primary",children:"Continue"})]})]})}})},ac=function(e){var t=e.history,r=Object(d.c)((function(e){return e})),n=r.cartsReducer.shippingAddress,a=r.authsReducer.checkAuthentication,s=Object(d.b)(),i=St.savingPaymentMethod;return!1===a?Object(c.jsx)(Er.c,{to:"/login"}):(n||t.push("/shipping"),Object(c.jsx)(_r.a,{initialValues:{paymentMethod:"Paypal"},onSubmit:function(e,r){s(i(e.paymentMethod)),t.push("/placeorder")},children:function(e){return Object(c.jsxs)(rc,{children:[Object(c.jsx)(cc,{step1:!0,step2:!0,step3:!0}),Object(c.jsx)("h1",{children:"Payment Method"}),Object(c.jsxs)(Pr.a,{onSubmit:e.handleSubmit,children:[Object(c.jsxs)(Pr.a.Group,{children:[Object(c.jsx)(Pr.a.Label,{as:"legend",children:"Select Method"}),Object(c.jsxs)(Cr.a,{children:[Object(c.jsx)(Pr.a.Check,{type:"radio",label:"Paypal or Credit Card",id:"PayPal",name:"paymentMethod",value:"PayPal",checked:!0,onChange:e.handleChange("paymentMethod")}),Object(c.jsx)(Pr.a.Check,{type:"radio",label:"Stripe",id:"Stripe",name:"paymentMethod",value:"Stripe",onChange:e.handleChange("paymentMethod")})]})]}),Object(c.jsx)(Lr.a,{type:"submit",variant:"primary",children:"Continue"})]})]})}}))},sc=function(e){var t=e.cartItem,r=t._id,n=t.image,a=t.name,s=t.price,o=t.quantity,u=t.countInStock,l=Object(d.b)(),j=St.addCartItemRequest,b=St.removeCartItemRequest;return Object(c.jsx)(ec.a.Item,{children:Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{md:2,children:Object(c.jsx)(zr.a,{src:n,alt:a,fluid:!0,rounded:!0})}),Object(c.jsx)(Cr.a,{md:3,children:Object(c.jsx)(i.Link,{to:"/product/".concat(r),children:a})}),Object(c.jsx)(Cr.a,{md:2,children:s}),Object(c.jsx)(Cr.a,{md:2,children:Object(c.jsx)(Pr.a.Control,{as:"select",value:o,style:{padding:"0.75rem 1.2rem"},onChange:function(e){return l(j({_id:r,countInStock:u,name:a,image:n,price:s,quantity:e.target.value}))},children:Object(qr.a)(Array(u).keys()).map((function(e){return Object(c.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(c.jsx)(Cr.a,{md:2,children:Object(c.jsx)(Lr.a,{type:"button",variant:"light",onClick:function(){return l(b(r))},children:Object(c.jsx)("i",{className:"fas fa-trash"})})})]})},r)},ic=function(){var e=Object(d.c)((function(e){return e})).cartsReducer.cartList;return Object(c.jsx)(ec.a,{variant:"flush",children:e.map((function(e){return Object(c.jsx)(sc,{cartItem:e},e._id)}))})},dc=function(e){var t=e.history,r=Object(d.c)((function(e){return e})),a=r.cartsReducer.cartList,s=r.authsReducer.checkAuthentication,o=r.utilsReducer.loading,u=Object(d.b)(),l=St.fetchCartListRequest,j=Qe.loadingUI;return Object(n.useEffect)((function(){0===a.length&&s&&(u(j()),u(l()))}),[s]),!1===s?Object(c.jsx)(Er.c,{to:"/login"}):Object(c.jsx)(c.Fragment,{children:o?Object(c.jsx)(Qr,{}):Object(c.jsx)(c.Fragment,{children:void 0===s?Object(c.jsx)(Qr,{}):Object(c.jsxs)(yr.a,{children:[Object(c.jsxs)(Cr.a,{md:8,children:[Object(c.jsx)("h1",{children:"Shopping Cart"}),0===a.length?Object(c.jsxs)(Br,{children:["Your cart is empty ",Object(c.jsx)(i.Link,{to:"/",children:"Go Back"})]}):Object(c.jsx)(ic,{})]}),Object(c.jsx)(Cr.a,{md:4,children:Object(c.jsx)(Ar.a,{children:Object(c.jsxs)(ec.a,{variant:"flush",children:[Object(c.jsxs)(ec.a.Item,{children:[Object(c.jsxs)("h2",{children:["SubTotal (",a.reduce((function(e,t){return e+Number(t.quantity)}),0),") items"]}),"$",a.reduce((function(e,t){return e+Number(t.quantity)*Number(t.price)}),0).toFixed(2)]}),Object(c.jsx)(ec.a.Item,{children:Object(c.jsx)(Lr.a,{type:"button",className:"btn-block",disabled:0===a.length,onClick:function(){return t.push("/login?redirect=shipping")},children:"Proceed To Checkout"})})]})})})]})})})},oc=function(e){var t=e.history,r=Object(d.c)((function(e){return e})),a=r.cartsReducer,s=a.shippingAddress,o=a.paymentMethod,u=a.cartList,l=a.itemsPrice,j=a.shippingPrice,b=a.taxPrice,h=a.totalPrice,O=r.authsReducer.checkAuthentication,p=r.ordersReducer,x=p.orderInfo,m=p.orderCreatedSuccess,f=r.utilsReducer,v=f.error,g=(f.loading,Object(d.b)()),E=(St.savingPaymentMethod,St.setPaymentPrice),I=St.fetchCartListRequest,y=At.addOrderItemRequest,C=Qe.loadingUI;return Object(n.useEffect)((function(){m&&t.push("/order/".concat(null===x||void 0===x?void 0:x._id))}),[m,t]),Object(n.useEffect)((function(){g(C()),g(I())}),[]),Object(n.useEffect)((function(){var e=u.reduce((function(e,t){return e+t.price*t.quantity}),0),t=e>100?0:100,r=.15*e;g(E(e,t,r,e+t+r))}),[u]),!1===O?Object(c.jsx)(Er.c,{to:"/login"}):(s||t.push("/shipping"),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(cc,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{md:8,children:Object(c.jsxs)(ec.a,{variant:"flush",children:[Object(c.jsxs)(ec.a.Item,{children:[Object(c.jsx)("h2",{children:"Shipping"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Address:"}),s.address,", ",s.city,", ",s.postalCode,","," ",s.country]})]}),Object(c.jsxs)(ec.a.Item,{children:[Object(c.jsx)("h2",{children:"Payment Method"}),Object(c.jsx)("strong",{children:"Method: "})," ",o]}),Object(c.jsxs)(ec.a.Item,{children:[Object(c.jsx)("h2",{children:"Order Items"}),0===u.length?Object(c.jsx)(Br,{children:"Card is empty"}):Object(c.jsx)(ec.a,{variant:"flush",children:u.map((function(e){return Object(c.jsx)(ec.a.Item,{children:Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{md:1,children:Object(c.jsx)(zr.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(c.jsx)(Cr.a,{children:Object(c.jsx)(i.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(c.jsxs)(Cr.a,{md:4,children:[e.quantity," x ",e.price," = $",e.quantity*e.price]})]})},e._id)}))})]})]})}),Object(c.jsx)(Cr.a,{md:4,children:Object(c.jsx)(Ar.a,{children:Object(c.jsxs)(ec.a,{variant:"flush",children:[Object(c.jsx)(ec.a.Item,{children:Object(c.jsx)("h2",{children:"Order Summary"})}),Object(c.jsx)(ec.a.Item,{children:Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{children:"Items"}),Object(c.jsxs)(Cr.a,{children:["$",l.toFixed(2)]})]})}),Object(c.jsx)(ec.a.Item,{children:Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{children:"Shipping"}),Object(c.jsxs)(Cr.a,{children:["$",j.toFixed(2)]})]})}),Object(c.jsx)(ec.a.Item,{children:Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{children:"Tax"}),Object(c.jsxs)(Cr.a,{children:["$",b.toFixed(2)]})]})}),Object(c.jsx)(ec.a.Item,{children:Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{children:"Total"}),Object(c.jsxs)(Cr.a,{children:["$",h.toFixed(2)]})]})}),Object(c.jsx)(ec.a.Item,{children:v&&Object(c.jsx)(Br,{variant:"danger",children:v})}),Object(c.jsx)(ec.a.Item,{children:Object(c.jsx)(Lr.a,{type:"button",className:"btn-block",disabled:0===u.length,onClick:function(){g(y({orderList:u,shippingAddress:s,paymentMethod:o,itemsPrice:l,shippingPrice:j,taxPrice:b,totalPrice:h}))},children:"Place Order"})})]})})})]})]}))},uc=r(54),lc=r(144),jc=function(e){var t,r,a,s,o,u,l,j,b,h,O,p,x,m,f,v=e.match.params.id,g=Object(d.c)((function(e){return e})),E=g.authsReducer,I=E.checkAuthentication,y=E.userData,C=g.ordersReducer,R=C.orderInfo,S=C.orderPaySuccess,k=g.utilsReducer,D=k.error,w=k.loading,P=g.adminReducer.orderDeliverSuccess,L=Object(n.useState)(!1),_=Object(Zr.a)(L,2),U=_[0],T=_[1],A=Object(d.b)(),F=At.getOrderDetailRequest,N=At.orderPayRequest,q=At.orderPayRest,G=Wt.orderDeliverRequest,M=Wt.orderDeliverRest,V=Qe.loadingUI,H=function(){var e=Object(uc.a)(Ve.a.mark((function e(){var t,r,c;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.a.get("/api/config/paypal");case 2:t=e.sent,r=t.data,(c=document.createElement("script")).type="text/javascript",c.src="https://www.paypal.com/sdk/js?client-id=".concat(r),c.async=!0,c.onload=function(){return T(!0)},document.body.appendChild(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){I&&(!R||R._id!==v||S||P)?(A(V()),A(F(v)),A(q()),A(M())):(null===R||void 0===R?void 0:R.isPaid)||(window.paypal?T(!0):H())}),[I,R,v,S,P]),!1===I?Object(c.jsx)(Er.c,{to:"/login"}):Object(c.jsx)(c.Fragment,{children:w||void 0===I?Object(c.jsx)(Qr,{}):D?Object(c.jsx)(Br,{variant:"danger",children:D}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("h1",{children:["Order ",null===R||void 0===R?void 0:R._id]}),Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{md:8,children:Object(c.jsxs)(ec.a,{variant:"flush",children:[Object(c.jsxs)(ec.a.Item,{children:[Object(c.jsx)("h2",{children:"Shipping"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Name: "})," ",null===R||void 0===R||null===(t=R.user)||void 0===t?void 0:t.name]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Email: "})," ",Object(c.jsx)("a",{href:"mailto:".concat(null===R||void 0===R||null===(r=R.user)||void 0===r?void 0:r.email),children:null===R||void 0===R||null===(a=R.user)||void 0===a?void 0:a.email})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Address:"}),null===R||void 0===R||null===(s=R.shippingAddress)||void 0===s?void 0:s.address,", ",null===R||void 0===R||null===(o=R.shippingAddress)||void 0===o?void 0:o.city,","," ",null===R||void 0===R||null===(u=R.shippingAddress)||void 0===u?void 0:u.postalCode,", ",null===R||void 0===R||null===(l=R.shippingAddress)||void 0===l?void 0:l.country]}),(null===R||void 0===R?void 0:R.isDelivered)?Object(c.jsxs)(Br,{variant:"success",children:["Delivered on ",null===R||void 0===R?void 0:R.deliveredAt]}):Object(c.jsx)(Br,{variant:"danger",children:"Not Delivered"})]}),Object(c.jsxs)(ec.a.Item,{children:[null===R||void 0===R||null===(j=R.totalPrice)||void 0===j?void 0:j.toFixed(2),Object(c.jsx)("h2",{children:"Payment Method"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Method: "})," ",null===R||void 0===R?void 0:R.paymentMethod]}),(null===R||void 0===R?void 0:R.isPaid)?Object(c.jsxs)(Br,{variant:"success",children:["Paid on ",null===R||void 0===R?void 0:R.paidAt]}):Object(c.jsx)(Br,{variant:"danger",children:"Not Paid"})]}),Object(c.jsxs)(ec.a.Item,{children:[Object(c.jsx)("h2",{children:"Order Items"}),0===(null===R||void 0===R||null===(b=R.orderList)||void 0===b?void 0:b.length)?Object(c.jsx)(Br,{children:"Card is empty"}):Object(c.jsx)(ec.a,{variant:"flush",children:null===R||void 0===R||null===(h=R.orderList)||void 0===h?void 0:h.map((function(e){return Object(c.jsx)(ec.a.Item,{children:Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{md:1,children:Object(c.jsx)(zr.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(c.jsx)(Cr.a,{children:Object(c.jsx)(i.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(c.jsxs)(Cr.a,{md:4,children:[e.quantity," x ",e.price," = $",e.quantity*e.price]})]})},e._id)}))})]})]})}),Object(c.jsx)(Cr.a,{md:4,children:Object(c.jsx)(Ar.a,{children:Object(c.jsxs)(ec.a,{variant:"flush",children:[Object(c.jsx)(ec.a.Item,{children:Object(c.jsx)("h2",{children:"Order Summary"})}),Object(c.jsx)(ec.a.Item,{children:Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{children:"Items"}),Object(c.jsxs)(Cr.a,{children:["$",null===R||void 0===R||null===(O=R.itemsPrice)||void 0===O?void 0:O.toFixed(2)]})]})}),Object(c.jsx)(ec.a.Item,{children:Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{children:"Shipping"}),Object(c.jsxs)(Cr.a,{children:["$",null===R||void 0===R||null===(p=R.shippingPrice)||void 0===p?void 0:p.toFixed(2)]})]})}),Object(c.jsx)(ec.a.Item,{children:Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{children:"Tax"}),Object(c.jsxs)(Cr.a,{children:["$",null===R||void 0===R||null===(x=R.taxPrice)||void 0===x?void 0:x.toFixed(2)]})]})}),Object(c.jsx)(ec.a.Item,{children:Object(c.jsxs)(yr.a,{children:[Object(c.jsx)(Cr.a,{children:"Total"}),Object(c.jsxs)(Cr.a,{children:["$",null===R||void 0===R||null===(m=R.totalPrice)||void 0===m?void 0:m.toFixed(2)]})]})}),!(null===R||void 0===R?void 0:R.isPaid)&&Object(c.jsxs)(ec.a.Item,{children:[w&&Object(c.jsx)(Qr,{}),U?Object(c.jsx)(lc.PayPalButton,{amount:null===R||void 0===R||null===(f=R.totalPrice)||void 0===f?void 0:f.toFixed(2),onSuccess:function(e){A(V()),A(N(v,e))}}):Object(c.jsx)(Qr,{})]}),y.isAdmin&&(null===R||void 0===R?void 0:R.isPaid)&&!(null===R||void 0===R?void 0:R.isDelivered)&&Object(c.jsx)(ec.a.Item,{children:Object(c.jsx)(Lr.a,{type:"button",className:"btn btn-block",onClick:function(){A(V()),A(G(v))},children:"Mark As Delivered"})})]})})})]})]})})},bc=r(16),hc=bc.a({}),Oc=function(e){var t=e.location,r=Object(d.c)((function(e){return e})),n=r.authsReducer,a=n.checkAuthentication,s=(n.userData,r.utilsReducer),o=s.loading,u=s.error,l=Object(d.b)(),j=ut.signInRequest,b=Qe.loadingUI,h=t.search?t.search.split("=")[1]:"/";return!0===a?Object(c.jsx)(Er.c,{to:h}):Object(c.jsx)(_r.a,{initialValues:{email:"",password:""},validationSchema:hc,onSubmit:function(e,t){l(b()),l(j(e.email,e.password)),u||t.resetForm()},children:function(e){return Object(c.jsx)(rc,{children:void 0===a?Object(c.jsx)(Qr,{}):Object(c.jsx)(c.Fragment,{children:o?Object(c.jsx)(Qr,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Sign In"}),u&&Object(c.jsx)(Br,{variant:"danger",children:u}),Object(c.jsxs)(Pr.a,{onSubmit:e.handleSubmit,children:[Object(c.jsxs)(Pr.a.Group,{controlId:"email",children:[Object(c.jsx)(Pr.a.Label,{children:"Email Address"}),Object(c.jsx)(Pr.a.Control,{type:"email",placeholder:"Enter email",value:e.values.email,onChange:e.handleChange("email")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"password",children:[Object(c.jsx)(Pr.a.Label,{children:"Password"}),Object(c.jsx)(Pr.a.Control,{type:"password",placeholder:"Enter password",value:e.values.password,onChange:e.handleChange("password")})]}),Object(c.jsx)(Lr.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(c.jsx)(yr.a,{className:"py-3",children:Object(c.jsxs)(Cr.a,{children:["New Customer?"," ",Object(c.jsx)(i.Link,{to:h?"/register?redirect=".concat(h):"/register",children:"Register"})]})})]})})})}})},pc=bc.a({password:bc.c(),confirmPassword:bc.c().oneOf([bc.b("password"),null],"Passwords must match")}),xc=function(e){var t=e.location,r=Object(d.c)((function(e){return e})),n=r.authsReducer,a=n.checkAuthentication,s=(n.userData,r.utilsReducer),o=s.loading,u=s.error,l=Object(d.b)(),j=ut.signUpRequest,b=Qe.loadingUI,h=t.search?t.search.split("=")[1]:"/";return!0===a?Object(c.jsx)(Er.c,{to:h}):Object(c.jsx)(_r.a,{initialValues:{name:"",email:"",password:"",confirmPassword:"",message:""},validationSchema:pc,onSubmit:function(e,t){e.password===e.confirmPassword&&(l(b()),l(j(e.name,e.email,e.password)))},children:function(e){return Object(c.jsx)(rc,{children:void 0===a?Object(c.jsx)(Qr,{}):Object(c.jsx)(c.Fragment,{children:o?Object(c.jsx)(Qr,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Sign Up"}),e.values.message&&Object(c.jsx)(Br,{variant:"danger",children:e.values.message}),u&&Object(c.jsx)(Br,{variant:"danger",children:u}),Object(c.jsxs)(Pr.a,{onSubmit:function(t){e.values.password!==e.values.confirmPassword?e.setFieldValue("message","Password do not match"):e.setFieldValue("message",""),e.handleSubmit(t)},children:[Object(c.jsxs)(Pr.a.Group,{controlId:"name",children:[Object(c.jsx)(Pr.a.Label,{children:"Name"}),Object(c.jsx)(Pr.a.Control,{type:"name",placeholder:"Enter name",value:e.values.name,onChange:e.handleChange("name")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"email",children:[Object(c.jsx)(Pr.a.Label,{children:"Email Address"}),Object(c.jsx)(Pr.a.Control,{type:"email",placeholder:"Enter email",value:e.values.email,onChange:e.handleChange("email")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"password",children:[Object(c.jsx)(Pr.a.Label,{children:"Password"}),Object(c.jsx)(Pr.a.Control,{type:"password",placeholder:"Enter password",value:e.values.password,onChange:e.handleChange("password")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"confirmPassword",children:[Object(c.jsx)(Pr.a.Label,{children:"Password"}),Object(c.jsx)(Pr.a.Control,{type:"password",placeholder:"Confirm password",value:e.values.confirmPassword,onChange:e.handleChange("confirmPassword")})]}),Object(c.jsx)(Lr.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(c.jsx)(yr.a,{className:"py-3",children:Object(c.jsxs)(Cr.a,{children:["Have an Account?"," ",Object(c.jsx)(i.Link,{to:h?"/login?redirect=".concat(h):"/login",children:"Login"})]})})]})})})}})},mc=r(293),fc=bc.a({password:bc.c(),confirmPassword:bc.c().oneOf([bc.b("password"),null],"Passwords must match")}),vc=function(e){var t=e.history,r=Object(d.c)((function(e){return e})),a=r.authsReducer,s=a.checkAuthentication,i=a.userData,o=r.utilsReducer,u=o.loading,l=o.error,j=o.updateStatus,b=r.ordersReducer.orderUser,h=Object(d.b)(),O=ut.getUserDataRequest,p=ut.updateUserDataRequest,x=At.getOrderUserRequest,m=Qe.loadingUI;return Object(n.useEffect)((function(){!1===s?t.push("/login"):i.name||h(O())}),[i]),Object(n.useEffect)((function(){!0===s&&(h(m()),h(x()))}),[s]),Object(c.jsx)(_r.a,{enableReinitialize:!0,initialValues:{name:i.name||"",email:i.email||"",password:"",confirmPassword:"",message:""},validationSchema:fc,onSubmit:function(e,t){e.password===e.confirmPassword&&(h(m()),h(p({name:e.name,email:e.email,password:e.password})))},children:function(e){return Object(c.jsx)(c.Fragment,{children:void 0===s?Object(c.jsx)(Qr,{}):Object(c.jsx)(c.Fragment,{children:u?Object(c.jsx)(Qr,{}):Object(c.jsxs)(yr.a,{children:[Object(c.jsxs)(Cr.a,{md:3,children:[Object(c.jsx)("h2",{children:"User Profile"}),e.values.message&&Object(c.jsx)(Br,{variant:"danger",children:e.values.message}),l&&Object(c.jsx)(Br,{variant:"danger",children:l}),j&&Object(c.jsx)(Br,{variant:"success",children:"Profile Updated"}),Object(c.jsxs)(Pr.a,{onSubmit:function(t){e.values.password!==e.values.confirmPassword?e.setFieldValue("message","Password do not match"):e.setFieldValue("message",""),e.handleSubmit(t)},children:[Object(c.jsxs)(Pr.a.Group,{controlId:"name",children:[Object(c.jsx)(Pr.a.Label,{children:"Name"}),Object(c.jsx)(Pr.a.Control,{type:"name",placeholder:"Enter name",value:e.values.name,onChange:e.handleChange("name")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"email",children:[Object(c.jsx)(Pr.a.Label,{children:"Email Address"}),Object(c.jsx)(Pr.a.Control,{type:"email",placeholder:"Enter email",value:e.values.email,onChange:e.handleChange("email")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"password",children:[Object(c.jsx)(Pr.a.Label,{children:"Password"}),Object(c.jsx)(Pr.a.Control,{type:"password",placeholder:"Enter password",value:e.values.password,onChange:e.handleChange("password")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"confirmPassword",children:[Object(c.jsx)(Pr.a.Label,{children:"Password"}),Object(c.jsx)(Pr.a.Control,{type:"password",placeholder:"Confirm password",value:e.values.confirmPassword,onChange:e.handleChange("confirmPassword")})]}),Object(c.jsx)(Lr.a,{type:"submit",variant:"primary",children:"Update"})]})]}),Object(c.jsxs)(Cr.a,{md:9,children:[Object(c.jsx)("h2",{children:"My Order"}),u?Object(c.jsx)(Qr,{}):l?Object(c.jsx)(Br,{variant:"danger",children:l}):Object(c.jsxs)(mc.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"DATE"}),Object(c.jsx)("th",{children:"TOTAL"}),Object(c.jsx)("th",{children:"PAID"}),Object(c.jsx)("th",{children:"DELIVERED"}),Object(c.jsx)("th",{})]})}),Object(c.jsx)("tbody",{children:b.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e._id}),Object(c.jsx)("td",{children:String(e.createdAt).substring(0,10)}),Object(c.jsx)("td",{children:e.totalPrice}),Object(c.jsx)("td",{children:e.isPaid?String(e.paidAt).substring(0,10):Object(c.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(c.jsx)("td",{children:e.isDelivered?String(e.deliveredAt).substring(0,10):Object(c.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(c.jsx)("td",{children:Object(c.jsx)(wr.LinkContainer,{to:"/order/".concat(e._id),children:Object(c.jsx)(Lr.a,{variant:"light",children:"Details"})})})]},e._id)}))})]})]})]})})})}})},gc=function(){var e=Object(d.c)((function(e){return e})),t=e.authsReducer,r=t.userList,a=t.checkAuthentication,s=t.userData,i=e.utilsReducer,o=i.loading,u=i.error,l=Object(d.b)(),j=Wt.fetchUserListRequest,b=Wt.deleteUserRequest,h=Qe.loadingUI;return Object(n.useEffect)((function(){a&&s&&s.isAdmin&&(l(h()),l(j()))}),[a]),!1===a?Object(c.jsx)(Er.c,{to:"/login"}):a&&!s.isAdmin?Object(c.jsx)(Er.c,{to:"/"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Users"}),o?Object(c.jsx)(Qr,{}):u?Object(c.jsx)(Br,{variant:"danger",children:u}):Object(c.jsx)(c.Fragment,{children:void 0===a?Object(c.jsx)(Qr,{}):Object(c.jsxs)(mc.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"ID"}),Object(c.jsx)("td",{children:"NAME"}),Object(c.jsx)("td",{children:"EMAIL"}),Object(c.jsx)("td",{children:"ADMIN"}),Object(c.jsx)("td",{})]})}),Object(c.jsx)("tbody",{children:r.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:Object(c.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(c.jsx)("td",{children:e.isAdmin?Object(c.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(c.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(c.jsxs)("td",{children:[Object(c.jsx)(wr.LinkContainer,{to:"/admin/user/".concat(e._id),children:Object(c.jsx)(Lr.a,{variant:"light",className:"btn-sm",children:Object(c.jsx)("i",{className:"fas fa-edit"})})}),Object(c.jsx)(Lr.a,{variant:"danger",className:"btn-sm",onClick:function(){return t=e._id,void(window.confirm("Are you sure")&&l(b(t)));var t},children:Object(c.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})})]})},Ec=bc.a({password:bc.c(),confirmPassword:bc.c().oneOf([bc.b("password"),null],"Passwords must match")}),Ic=function(e){var t=e.history,r=e.match.params.id,a=Object(d.c)((function(e){return e})),s=a.authsReducer,o=s.checkAuthentication,u=s.userData,l=a.adminReducer.userDetail,j=a.utilsReducer,b=j.loading,h=j.error,O=Object(d.b)(),p=Wt.getUserDetailRequest,x=Wt.updateUserRequest,m=Qe.loadingUI;return Object(n.useEffect)((function(){!o||l.name&&l._id===r||(O(m()),O(p(r)))}),[o,l,r]),!1===o?Object(c.jsx)(Er.c,{to:"/login"}):u.isAdmin?Object(c.jsx)(_r.a,{enableReinitialize:!0,initialValues:{name:l.name||"",email:l.email||"",isAdmin:l.isAdmin},validationSchema:Ec,onSubmit:function(e,c){O(m()),O(x(r,{name:e.name,email:e.email,isAdmin:e.isAdmin},t)),c.resetForm()},children:function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(i.Link,{to:"/admin/users",className:"btn btn-light my-3",children:"Go Back"}),Object(c.jsx)(rc,{children:void 0===o?Object(c.jsx)(Qr,{}):Object(c.jsx)(c.Fragment,{children:b?Object(c.jsx)(Qr,{}):h?Object(c.jsx)(Br,{variant:"danger",children:h}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Edit User"}),Object(c.jsxs)(Pr.a,{onSubmit:function(t){e.handleSubmit(t)},children:[Object(c.jsxs)(Pr.a.Group,{controlId:"name",children:[Object(c.jsx)(Pr.a.Label,{children:"Name"}),Object(c.jsx)(Pr.a.Control,{type:"name",placeholder:"Enter name",value:e.values.name,onChange:e.handleChange("name")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"email",children:[Object(c.jsx)(Pr.a.Label,{children:"Email Address"}),Object(c.jsx)(Pr.a.Control,{type:"email",placeholder:"Enter email",value:e.values.email,onChange:e.handleChange("email")})]}),Object(c.jsx)(Pr.a.Group,{controlId:"isAdmin",children:Object(c.jsx)(Pr.a.Check,{type:"checkbox",label:"Is Admin",checked:e.values.isAdmin,onChange:e.handleChange("isAdmin")})}),Object(c.jsx)(Lr.a,{type:"submit",variant:"primary",children:"Update"})]})]})})})]})}}):Object(c.jsx)(Er.c,{to:"/"})},yc=function(e){var t=e.match,r=Number(t.params.pageNumber)||1,a=Object(d.c)((function(e){return e})),s=a.authsReducer,i=s.checkAuthentication,o=s.userData,u=a.productsReducer,l=u.productList,j=u.page,b=u.pages,h=a.utilsReducer,O=h.loading,p=h.error,x=Object(d.b)(),m=Xe.fetchProductListRequest,f=Wt.deleteProductRequest,v=Qe.loadingUI;return Object(n.useEffect)((function(){!i||0!==l.length&&r===j||(x(v()),x(m("",r)))}),[i,l,r,j]),!1===i?Object(c.jsx)(Er.c,{to:"/login"}):i&&!o.isAdmin?Object(c.jsx)(Er.c,{to:"/"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(yr.a,{className:"align-items-center",children:[Object(c.jsx)(Cr.a,{children:Object(c.jsx)("h1",{children:"Products"})}),Object(c.jsx)(Cr.a,{className:"text-right",children:Object(c.jsx)(wr.LinkContainer,{to:"/admin/create-product",children:Object(c.jsxs)(Lr.a,{className:"my-3",onClick:function(){},children:[Object(c.jsx)("i",{className:"fas fa-plus"}),"Create Product"]})})})]}),O?Object(c.jsx)(Qr,{}):p?Object(c.jsx)(Br,{variant:"danger",children:p}):Object(c.jsx)(c.Fragment,{children:void 0===i?Object(c.jsx)(Qr,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(mc.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"ID"}),Object(c.jsx)("td",{children:"NAME"}),Object(c.jsx)("td",{children:"PRICE"}),Object(c.jsx)("td",{children:"CATEGORY"}),Object(c.jsx)("td",{children:"BRAND"}),Object(c.jsx)("td",{})]})}),Object(c.jsx)("tbody",{children:l.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e._id}),Object(c.jsx)("td",{children:e.name}),Object(c.jsxs)("td",{children:["$",e.price]}),Object(c.jsx)("td",{children:e.category}),Object(c.jsx)("td",{children:e.brand}),Object(c.jsxs)("td",{children:[Object(c.jsx)(wr.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(c.jsx)(Lr.a,{variant:"light",className:"btn-sm",children:Object(c.jsx)("i",{className:"fas fa-edit"})})}),Object(c.jsx)(Lr.a,{variant:"danger",className:"btn-sm",onClick:function(){return t=e._id,void(window.confirm("Are you sure")&&x(f(t)));var t},children:Object(c.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(c.jsx)(Mr,{pages:b,page:j,isAdmin:o.isAdmin})]})})]})},Cc=bc.a({password:bc.c(),confirmPassword:bc.c().oneOf([bc.b("password"),null],"Passwords must match")}),Rc=function(e){var t=e.history,r=(e.match,Object(d.c)((function(e){return e}))),a=r.authsReducer,s=a.checkAuthentication,o=a.userData,u=r.utilsReducer,l=u.loading,j=u.error,b=Object(n.useState)(!1),h=Object(Zr.a)(b,2),O=h[0],p=h[1],x=Object(d.b)(),m=Wt.createProductItemRequest,f=Qe.loadingUI,v=function(){var e=Object(uc.a)(Ve.a.mark((function e(t,r){var c,n,a,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.files[0],(n=new FormData).append("image",c),p(!0),e.prev=4,e.next=7,Je.uploadImage(n);case 7:a=e.sent,s=a.data,r.setFieldValue("image",s),p(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0),p(!1);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,r){return e.apply(this,arguments)}}();return!1===s?Object(c.jsx)(Er.c,{to:"/login"}):s&&!o.isAdmin?Object(c.jsx)(Er.c,{to:"/"}):Object(c.jsx)(_r.a,{enableReinitialize:!0,initialValues:{name:"",price:0,image:"",brand:"",category:"",countInStock:0,description:""},validationSchema:Cc,onSubmit:function(e,r){x(f()),x(m({name:e.name,price:e.price,image:e.image,brand:e.brand,category:e.category,countInStock:e.countInStock,description:e.description},t)),r.resetForm()},children:function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(i.Link,{to:"/admin/products",className:"btn btn-light my-3",children:"Go Back"}),Object(c.jsx)(rc,{children:void 0===s?Object(c.jsx)(Qr,{}):Object(c.jsx)(c.Fragment,{children:l?Object(c.jsx)(Qr,{}):j?Object(c.jsx)(Br,{variant:"danger",children:j}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Create Product"}),Object(c.jsxs)(Pr.a,{onSubmit:function(t){e.handleSubmit(t)},children:[Object(c.jsxs)(Pr.a.Group,{controlId:"name",children:[Object(c.jsx)(Pr.a.Label,{children:"Name"}),Object(c.jsx)(Pr.a.Control,{type:"name",placeholder:"Enter name",value:e.values.name,onChange:e.handleChange("name")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"price",children:[Object(c.jsx)(Pr.a.Label,{children:"Price"}),Object(c.jsx)(Pr.a.Control,{type:"number",placeholder:"Enter price",value:e.values.price,onChange:e.handleChange("price")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"image",children:[Object(c.jsx)(Pr.a.Label,{children:"Image"}),Object(c.jsx)(Pr.a.Control,{type:"text",placeholder:"Enter image url",value:e.values.image,onChange:e.handleChange("image")}),Object(c.jsx)(Pr.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:function(t){return v(t,e)}}),O&&Object(c.jsx)(Qr,{})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"brand",children:[Object(c.jsx)(Pr.a.Label,{children:"Brand"}),Object(c.jsx)(Pr.a.Control,{type:"text",placeholder:"Enter brand",value:e.values.brand,onChange:e.handleChange("brand")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"countInStock",children:[Object(c.jsx)(Pr.a.Label,{children:"countInStock"}),Object(c.jsx)(Pr.a.Control,{type:"number",placeholder:"Enter countInStock",value:e.values.countInStock,onChange:e.handleChange("countInStock")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"category",children:[Object(c.jsx)(Pr.a.Label,{children:"Category"}),Object(c.jsx)(Pr.a.Control,{type:"text",placeholder:"Enter category",value:e.values.category,onChange:e.handleChange("category")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"description",children:[Object(c.jsx)(Pr.a.Label,{children:"Description"}),Object(c.jsx)(Pr.a.Control,{type:"text",placeholder:"Enter description",value:e.values.description,onChange:e.handleChange("description")})]}),Object(c.jsx)(Lr.a,{type:"submit",variant:"primary",children:"Update"})]})]})})})]})}})},Sc=bc.a({password:bc.c(),confirmPassword:bc.c().oneOf([bc.b("password"),null],"Passwords must match")}),kc=function(e){var t=e.history,r=e.match.params.id,a=Object(d.c)((function(e){return e})),s=a.authsReducer,o=s.checkAuthentication,u=s.userData,l=a.utilsReducer,j=l.loading,b=l.error,h=a.productsReducer,O=h.productDetail,p=h.page,x=Object(n.useState)(!1),m=Object(Zr.a)(x,2),f=m[0],v=m[1],g=Object(d.b)(),E=Xe.fetchProductDetailRequest,I=Wt.updateProductItemRequest,y=Qe.loadingUI,C=function(){var e=Object(uc.a)(Ve.a.mark((function e(t,r){var c,n,a,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.files[0],(n=new FormData).append("image",c),v(!0),e.prev=4,e.next=7,Je.uploadImage(n);case 7:a=e.sent,s=a.data,r.setFieldValue("image",s),v(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0),v(!1);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!o||O&&O._id===r||(g(y()),g(E(r)))}),[o,O,r]),!1===o?Object(c.jsx)(Er.c,{to:"/login"}):o&&!u.isAdmin?Object(c.jsx)(Er.c,{to:"/"}):Object(c.jsx)(_r.a,{enableReinitialize:!0,initialValues:{name:O.name||"",price:O.price||0,image:O.image||"",brand:O.brand||"",category:O.category||"",countInStock:O.countInStock||0,description:O.description||""},validationSchema:Sc,onSubmit:function(e,c){g(y()),g(I(r,{_id:r,name:e.name,price:e.price,image:e.image,brand:e.brand,category:e.category,countInStock:e.countInStock,description:e.description},t)),c.resetForm()},children:function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(i.Link,{to:p?"/admin/products/".concat(p):"/admin/products",className:"btn btn-light my-3",children:"Go Back"}),Object(c.jsx)(rc,{children:void 0===o?Object(c.jsx)(Qr,{}):Object(c.jsx)(c.Fragment,{children:j?Object(c.jsx)(Qr,{}):b?Object(c.jsx)(Br,{variant:"danger",children:b}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Update Product"}),Object(c.jsxs)(Pr.a,{onSubmit:function(t){e.handleSubmit(t)},children:[Object(c.jsxs)(Pr.a.Group,{controlId:"name",children:[Object(c.jsx)(Pr.a.Label,{children:"Name"}),Object(c.jsx)(Pr.a.Control,{type:"name",placeholder:"Enter name",value:e.values.name,onChange:e.handleChange("name")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"price",children:[Object(c.jsx)(Pr.a.Label,{children:"Price"}),Object(c.jsx)(Pr.a.Control,{type:"number",placeholder:"Enter price",value:e.values.price,onChange:e.handleChange("price")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"image",children:[Object(c.jsx)(Pr.a.Label,{children:"Image"}),Object(c.jsx)(Pr.a.Control,{type:"text",placeholder:"Enter image url",value:e.values.image,onChange:e.handleChange("image")}),Object(c.jsx)(Pr.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:function(t){return C(t,e)}}),f&&Object(c.jsx)(Qr,{})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"brand",children:[Object(c.jsx)(Pr.a.Label,{children:"Brand"}),Object(c.jsx)(Pr.a.Control,{type:"text",placeholder:"Enter brand",value:e.values.brand,onChange:e.handleChange("brand")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"countInStock",children:[Object(c.jsx)(Pr.a.Label,{children:"countInStock"}),Object(c.jsx)(Pr.a.Control,{type:"number",placeholder:"Enter countInStock",value:e.values.countInStock,onChange:e.handleChange("countInStock")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"category",children:[Object(c.jsx)(Pr.a.Label,{children:"Category"}),Object(c.jsx)(Pr.a.Control,{type:"text",placeholder:"Enter category",value:e.values.category,onChange:e.handleChange("category")})]}),Object(c.jsxs)(Pr.a.Group,{controlId:"description",children:[Object(c.jsx)(Pr.a.Label,{children:"Description"}),Object(c.jsx)(Pr.a.Control,{type:"text",placeholder:"Enter description",value:e.values.description,onChange:e.handleChange("description")})]}),Object(c.jsx)(Lr.a,{type:"submit",variant:"primary",children:"Update"})]})]})})})]})}})},Dc=function(){var e=Object(d.c)((function(e){return e})),t=e.authsReducer,r=t.checkAuthentication,a=t.userData,s=e.adminReducer.orderList,i=e.utilsReducer,o=i.loading,u=i.error,l=Object(d.b)(),j=Wt.fetchOrderListRequest,b=Qe.loadingUI;return Object(n.useEffect)((function(){r&&a&&a.isAdmin&&(l(b()),l(j()))}),[r]),!1===r?Object(c.jsx)(Er.c,{to:"/login"}):r&&!a.isAdmin?Object(c.jsx)(Er.c,{to:"/"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Users"}),o?Object(c.jsx)(Qr,{}):u?Object(c.jsx)(Br,{variant:"danger",children:u}):Object(c.jsx)(c.Fragment,{children:void 0===r?Object(c.jsx)(Qr,{}):Object(c.jsxs)(mc.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"ID"}),Object(c.jsx)("td",{children:"USER"}),Object(c.jsx)("td",{children:"DATE"}),Object(c.jsx)("td",{children:"TOTAL"}),Object(c.jsx)("td",{children:"PAID"}),Object(c.jsx)("td",{children:"DELIVERED"}),Object(c.jsx)("td",{})]})}),Object(c.jsx)("tbody",{children:s.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e._id}),Object(c.jsx)("td",{children:e.user&&e.user.name}),Object(c.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(c.jsxs)("td",{children:["$",e.totalPrice.toFixed(2)]}),Object(c.jsx)("td",{children:e.isPaid?String(e.paidAt).substring(0,10):Object(c.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(c.jsx)("td",{children:e.isDelivered?String(e.deliveredAt).substring(0,10):Object(c.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(c.jsx)("td",{children:Object(c.jsx)(wr.LinkContainer,{to:"/order/".concat(e._id),children:Object(c.jsx)(Lr.a,{variant:"light",className:"btn-sm",children:"Details"})})})]},e._id)}))})]})})]})},wc=function(){var e=Object(d.c)((function(e){return e})).authsReducer.checkAuthentication,t=Object(d.b)(),r=ut.checkAuthenticationRequest;return Object(n.useEffect)((function(){t(r())}),[e]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Tr,{}),Object(c.jsx)("main",{className:"py-3",children:Object(c.jsx)(Ir.a,{children:Object(c.jsxs)(Er.g,{children:[Object(c.jsx)(Er.d,{exact:!0,path:"/",component:Xr}),Object(c.jsx)(Er.d,{exact:!0,path:"/search/:keyword",component:Xr}),Object(c.jsx)(Er.d,{exact:!0,path:"/search/:keyword/page/:pageNumber",component:Xr}),Object(c.jsx)(Er.d,{exact:!0,path:"/page/:pageNumber",component:Xr}),Object(c.jsx)(Er.d,{exact:!0,path:"/product/:id",component:tc}),Object(c.jsx)(Er.d,{exact:!0,path:"/cart/:id?",component:dc}),Object(c.jsx)(Er.d,{exact:!0,path:"/shipping",component:nc}),Object(c.jsx)(Er.d,{exact:!0,path:"/payment",component:ac}),Object(c.jsx)(Er.d,{exact:!0,path:"/placeorder",component:oc}),Object(c.jsx)(Er.d,{exact:!0,path:"/order/:id",component:jc}),Object(c.jsx)(Er.d,{exact:!0,path:"/login",component:Oc}),Object(c.jsx)(Er.d,{exact:!0,path:"/register",component:xc}),Object(c.jsx)(Er.d,{exact:!0,path:"/profile",component:vc}),Object(c.jsx)(Er.d,{exact:!0,path:"/admin/users",component:gc}),Object(c.jsx)(Er.d,{exact:!0,path:"/admin/user/:id",component:Ic}),Object(c.jsx)(Er.d,{exact:!0,path:"/admin/products",component:yc}),Object(c.jsx)(Er.d,{exact:!0,path:"/admin/products/:pageNumber",component:yc}),Object(c.jsx)(Er.d,{exact:!0,path:"/admin/create-product",component:Rc}),Object(c.jsx)(Er.d,{exact:!0,path:"/admin/product/:id/edit",component:kc}),Object(c.jsx)(Er.d,{exact:!0,path:"/admin/orders",component:Dc})]})})}),Object(c.jsx)(Rr,{})]})};s.a.render(Object(c.jsx)(i.BrowserRouter,{children:Object(c.jsx)(d.a,{store:gr,children:Object(c.jsx)(wc,{})})}),document.getElementById("root"))}},[[283,1,2]]]);
//# sourceMappingURL=main.5194e9f3.chunk.js.map